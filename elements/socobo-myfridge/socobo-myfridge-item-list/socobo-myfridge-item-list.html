<!--
  ToDo:
    content: all socobo-myfridge-item.html elements
-->
<link rel="import" href="../../socobo-imports/socobo-imports.html">
<script src="socobo-myfridge-item-list.js"></script>

<polymer-element name="socobo-myfridge-item-list">

  <template>
    <!-- Styling -->
    <link rel="stylesheet" href="socobo-myfridge-item-list.css">
    <!-- Element Content -->
    <core-header-panel mode="waterfall">
      <div class="core-header" horizontal layout center>
        <p>Search:</p>
        <paper-input-decorator>
          <input is="core-input"
                 id="searchQuery"
                 type="text"
                 value="{{searchStr}}">
        </paper-input-decorator>
      </div>
      <div class="content" vertical layout center>
        <template repeat="{{item in myFridgeItems}}">
          <template if="{{ searchForItems(item,searchStr) }}">
            <socobo-myfridge-item id="myFridgeItem" item="{{item}}"></socobo-myfridge-item>
          </template>
        </template>
      </div>
    </core-header-panel>



    <!--<core-card layout vertical>
      <paper-shadow z="2">
        <core-toolbar id="core_toolbar" mode="waterfall">
          <div id="div" flex>Search:</div>
          <paper-input-decorator>
          <input is="core-input"
                 id="searchQuery"
                 type="text"
                 value="{{searchStr}}">
        </paper-input-decorator>
        </core-toolbar>
      </paper-shadow>

      <div id="content" layout vertical center>

        <template repeat="{{item in myFridgeItems}}">
          <template if="{{ searchForItems(item,searchStr) }}">
            <socobo-myfridge-item item="{{item}}"></socobo-myfridge-item>
          </template>
        </template>
      </div>

    </core-card>-->

    <core-ajax id="ajaxMyfridgeItems"
               auto
               url="../../socobo-api-test/myFridgeItemList.json"
               headers='{"X-AUTH-TOKEN":"{{authtoken}}"}'
               handleAs="json"
               contentType="application/json"
               on-core-response="{{handleMyFridgeItemsOnResponse}}"
               on-core-error="{{handleMyFridgeItemsOnError}}">
    </core-ajax>
    <!--
      ToDo: API atm not there
    <socobo-ajax id="socoboMyfridgeItems"
                 url="/getAllFridgeItems"
                 method="POST"
                 on-socobo-ajax-response-ok="{{handleMyFridgeItemsOnResponse}}"
                 on-socobo-ajax-response-failed="{{handleMyFridgeItemsOnError}}">
    </socobo-ajax>
    -->
  </template>
  <script>
    Polymer('socobo-myfridge-item-list', socoboMyfridgeItemList);
  </script>
</polymer-element>